{"ast":null,"code":"import _classCallCheck from \"/Users/robertparrish/non-work/gif-picker/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/robertparrish/non-work/gif-picker/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/robertparrish/non-work/gif-picker/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/robertparrish/non-work/gif-picker/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/robertparrish/non-work/gif-picker/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/robertparrish/non-work/gif-picker/src/components/PopupWindow.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { GifGrid, SearchBar } from \".\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"../Styles.css\";\n\nvar PopupWindow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PopupWindow, _React$Component);\n\n  function PopupWindow() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PopupWindow);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PopupWindow)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      gifs: [],\n      offset: 0,\n      currentGif: \"\",\n      searchInput: \"\",\n      timeout: 0,\n      hasMore: true\n    };\n\n    _this.fetchData = function (keyWord, limit, offset) {\n      if (_this.state.gifs.length >= 20) {\n        _this.setState({\n          hasMore: false\n        });\n\n        return;\n      }\n\n      _this.setState({\n        currentGif: keyWord\n      });\n\n      var url = \"http://api.giphy.com/v1/gifs/search?api_key=smFg8BlXGx3Fv1uibDi6kK0MiFnLr1xx&q=\".concat(keyWord, \"&offset=\").concat(offset, \"&limit=\").concat(limit);\n      console.log(url);\n      fetch(url).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this.setState({\n          gifs: _this.state.gifs.concat(data.data),\n          offset: offset + limit\n        });\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var searchText = event.target.value;\n      if (_this.timeout) clearTimeout(_this.timeout);\n      _this.timeout = setTimeout(function () {\n        _this.setState({\n          gifs: []\n        });\n\n        _this.fetchData(searchText, 9, 0);\n      }, 500);\n    };\n\n    _this.handleClick = function () {\n      _this.setState({\n        gifs: []\n      });\n\n      _this.props.hideModal();\n    };\n\n    return _this;\n  }\n\n  _createClass(PopupWindow, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Modal, {\n        show: this.props.modalState,\n        onHide: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        inputHandler: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })), React.createElement(Modal.Body, {\n        id: \"scrollableDiv\",\n        style: {\n          \"max-height\": \"calc(100vh - 210px)\",\n          \"overflow-y\": \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(InfiniteScroll, {\n        dataLength: this.state.gifs.length,\n        next: function next() {\n          var _this2$state = _this2.state,\n              offset = _this2$state.offset,\n              currentGif = _this2$state.currentGif;\n\n          _this2.fetchData(currentGif, 6, offset);\n        },\n        hasMore: this.state.hasMore,\n        scrollThreashold: 0.5,\n        scrollableTarget: \"scrollableDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(GifGrid, {\n        gifs: this.state.gifs,\n        selectGif: this.selectGif,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Select GIF\")));\n    }\n  }]);\n\n  return PopupWindow;\n}(React.Component);\n\nexport default PopupWindow;","map":{"version":3,"sources":["/Users/robertparrish/non-work/gif-picker/src/components/PopupWindow.js"],"names":["React","Component","Modal","Button","GifGrid","SearchBar","InfiniteScroll","PopupWindow","state","gifs","offset","currentGif","searchInput","timeout","hasMore","fetchData","keyWord","limit","length","setState","url","console","log","fetch","then","response","json","data","concat","handleInputChange","event","searchText","target","value","clearTimeout","setTimeout","handleClick","props","hideModal","modalState","selectGif"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { GifGrid, SearchBar } from \".\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"../Styles.css\";\n\nclass PopupWindow extends React.Component {\n  state = {\n    gifs: [],\n    offset: 0,\n    currentGif: \"\",\n    searchInput: \"\",\n    timeout: 0,\n    hasMore: true\n  };\n\n  fetchData = (keyWord, limit, offset) => {\n    if (this.state.gifs.length >= 20) {\n      this.setState({ hasMore: false });\n      return;\n    }\n    this.setState({ currentGif: keyWord });\n    const url = `http://api.giphy.com/v1/gifs/search?api_key=smFg8BlXGx3Fv1uibDi6kK0MiFnLr1xx&q=${keyWord}&offset=${offset}&limit=${limit}`;\n    console.log(url);\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          gifs: this.state.gifs.concat(data.data),\n          offset: offset + limit\n        });\n      });\n  };\n\n  handleInputChange = event => {\n    var searchText = event.target.value;\n    if (this.timeout) clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => {\n      this.setState({ gifs: [] });\n      this.fetchData(searchText, 9, 0);\n    }, 500);\n  };\n\n  handleClick = () => {\n    this.setState({ gifs: [] });\n    this.props.hideModal();\n  };\n\n  render() {\n    return (\n      <Modal show={this.props.modalState} onHide={this.handleClick}>\n        <Modal.Header closeButton>\n          <SearchBar inputHandler={this.handleInputChange} />\n        </Modal.Header>\n        <Modal.Body\n          id=\"scrollableDiv\"\n          style={{\n            \"max-height\": \"calc(100vh - 210px)\",\n            \"overflow-y\": \"auto\"\n          }}\n        >\n          <InfiniteScroll\n            dataLength={this.state.gifs.length}\n            next={() => {\n              const { offset, currentGif } = this.state;\n              this.fetchData(currentGif, 6, offset);\n            }}\n            hasMore={this.state.hasMore}\n            scrollThreashold={0.5}\n            scrollableTarget=\"scrollableDiv\"\n          >\n            <GifGrid gifs={this.state.gifs} selectGif={this.selectGif} />\n          </InfiniteScroll>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.handleClick}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={this.handleClick}>\n            Select GIF\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\nexport default PopupWindow;\n"]},"metadata":{},"sourceType":"module"}